---
// src/components/ui/Button.astro
import { createTheme } from '../../lib/themeProvider.js';

const {
  suburb,
  service,
  variant = 'primary',
  size = 'medium',
  type = 'button',
  fullWidth = false,
  children,
  ...props
} = Astro.props;

const theme = createTheme(suburb.slug, service);
const cfg = theme.getSuburbButtonConfig('quote');
const btn = theme.getButtonTheme(variant);
const sizeClasses = theme.getSizeClasses(size);

const base = 'rounded-md font-medium transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2';
const width = fullWidth ? 'w-full' : '';
const classes = `${base} ${btn.classes} ${sizeClasses} ${width}`;
---

<button class={classes} style={btn.style} type={type} {...props}>
  {children || cfg.text}
</button>
